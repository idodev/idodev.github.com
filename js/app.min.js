/*        __              __
 *   __    /\ \            /\ \
 *  /\_\   \_\ \    ___    \_\ \     __   __  __
 *  \/\ \  /'_` \  / __`\  /'_` \  /'__`\/\ \/\ \
 *   \ \ \/\ \L\ \/\ \L\ \/\ \L\ \/\  __/\ \ \_/ |
 *    \ \_\ \___,_\ \____/\ \___,_\ \____\\ \___/
 *     \/_/\/__,_ /\/___/  \/__,_ /\/____/ \/__/
 *
 *  idodev.co.uk
 *  v0.0.1
 *  idodev.co.uk - the personal blog of Toby Foord
 *  Copyright 2014
 */

$(function(){"use strict";function a(a){var b=[];return null!==c&&$.each(c,function(c,d){-1!==d.title.toLowerCase().indexOf(a.toLowerCase())&&b.push(d)}),b}function b(){null===d&&(d=$.ajax({url:"/search.json",type:"get",dataType:"json",success:function(a){c=a,c.pop()}}))}hljs.tabReplace="    ",hljs.initHighlightingOnLoad(),$("pre code").each(function(){var a=$(this).text().split("\n").length-1,b=$("<ul/>").addClass("pre-numbering"),c=0;for($(this).addClass("has-numbering").parent().append(b),c=1;a>=c;c+=1)b.append($("<li/>").text(c))});var c=null,d=null;b(),$(".site-search input").bind("keyup click",function(){if($(this).val().length<2)return $(".site-search .results").fadeOut(300),!1;var b,c=a($(this).val());c.length>0?(b=$("<ul>"),$.each(c,function(a,c){b.append($("<li>").append($("<a>").attr("href",c.href).text(c.title)))}),$(".site-search .results").empty().append(b)):$(".site-search .results").empty().append($("<span>").text("No results...")),$(".site-search .results").is(":visible")||$(".site-search .results").slideToggle(300)}),$(".site-search input").blur(function(){setTimeout(function(){$(".site-search .results").is(":focus")||$(".site-search .results").fadeOut(300)},800)}),"function"==typeof ga&&$(".site-search .results li a").on("click",function(){ga("send","event","Search","Clicked Result",$(this).attr("href"))})});
